program : def
        | def program

def : class
    | varDef
    | function
    
operator : PLUS
         | MINUS
         | EQUALS
         | TIMES
	       | DIVIDE
         | EXPONENTIAL
         | MODULO
         | AND
         | OR
         | EQUALTO
         | GREATER_THAN
         | LESS_THAN

unary : VAR
      | INTEGER
      | REAL
      | STRING
      | CHAR
      | NOT OPAREN expr CPAREN
      | OPAREN expr CPAREN
      | UMINUS unary
      | BOOL
      | function
      | class

modifier : DECREMENT DECREMENT VAR
         | INCREMENT INCREMENT VAR

varDef : LET VAR EQUALS unary
       | LET VAR

class : classDef
      | classInit

classDef : CLASS VAR OBRACE optParamList CBRACE block

classInit : NEW CLASS VAR OBRACE optArgList CBRACE

classCall : VAR DOT VAR ??

function : functionDef
	       | functionCall

functionDef : FUNCTION VAR OBRACE optParamList CBRACE block

functionCall : CALL OBRACE optArgList CBRACE

block : BEGIN statements END

statements : statement
           | statement statements

statement : expr
          | if
          | loop
          | function
          | class
          | varDef

expr : unary
     | unary operator expr
     | modifier

parameters : VAR
          | VAR COMMA parameters

optParamList : parameters
             | EMPTY

arguments : unary
          | unary COMMA arguments

optArgList : arguments
           | EMPTY

if : IF OBRACE expr CBRACE block optElse

optElse : ELSE block
        : ELSE if
        | EMPTY

loop : forLoop
     | whileLoop

forLoop : FOR OBRACE expr TILDE expr TILDE expr CBRACE block

whileLoop : WHILE OBRACE expr CBRACE block
